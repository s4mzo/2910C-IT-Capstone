<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Buy Clone</title>
    <link rel="stylesheet" href="styles.css">
    <script defer src="weather.js"></script>
    <script defer src="confirmation.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script defer src="map.js"></script> <!-- Load Leaflet Map -->
</head>
<body>
    <header>
        <h1>Best Buy Clone</h1>
    </header>
    <nav>
        <ul>
            <li><a href="#store-selection">Store Selection</a></li>
            <li><a href="#checkout">Checkout Process</a></li>
            <li><a href="#weather-protocols">Drone Safety & Weather</a></li>
            <li><a href="#store-map">Best Buy Locations</a></li>
        </ul>
    </nav>

    <section id="store-selection">
        <h2>3.1 Store Selection and Inventory Management</h2>
        <p>Select a Store Location:</p>
        <ul>
            <li>Best Buy Orlando - 4601 E Colonial Dr, Orlando, FL 32803</li>
            <li>Best Buy Ocoee - 9537 W Colonial Dr, Ocoee, FL 34761</li>
            <li>Best Buy Brandon - 116 Grand Regency Blvd, Brandon, FL 33510</li>
        </ul>
    </section>

    <section id="checkout">
        <h2>3.2 Checkout Process</h2>
        <p>Delivery Options:</p>
        <ul>
            <li>Standard Delivery</li>
            <li><a href="drone-delivery.html">Premium Drone Delivery</a></li>
        </ul>
    </section>

    <section id="store-map">
        <h2>Best Buy Store Locations</h2>
        <p>View all Best Buy store locations on the map below:</p>
        <div id="map" style="width: 100%; height: 400px;"></div>
    </section>

    <section id="confirmation">
        <h2>Enter Confirmation Code</h2>
        <p>If you have paid, please enter your confirmation code:</p>
        <input type="text" id="confirmation-code" placeholder="Enter Code">
        <button id="confirm-btn">Confirm</button>
        <p id="confirmation-message"></p>
    </section>
    
    <!-- Load scripts -->
    <script defer src="confirmation.js"></script>
    <script defer src="drone_delivery.js"></script>    
    
    <section id="weather-check" style="display: none; visibility: hidden; height: 0; overflow: hidden;">
        <h2>Enter Delivery Address & Check Weather</h2>
        <p>The delivery will start after you enter your address to check the weather conditions and to find out which store will send your package.</p>
        <label for="delivery-address">Delivery Address:</label>
        <input type="text" id="delivery-address" placeholder="Enter full address">
        <button id="checkWeatherBtn">Check Weather</button>
        <div id="weather-result">
            <h3>Weather at Delivery Location</h3>
            <p><strong>Temperature:</strong> <span id="temp"></span></p>
            <p><strong>Wind Speed:</strong> <span id="wind"></span></p>
            <p><strong>Visibility:</strong> <span id="visibility"></span></p>
            <p><strong>Condition:</strong> <span id="condition"></span></p>
        </div>
    </section>
    
    <section id="closest-store" style="display: none; visibility: hidden; height: 0; overflow: hidden;">
        <h2>Closest Best Buy Store</h2>
        <p id="closest-store-result">Enter your address and check weather to find out which store will send your package.</p>
    </section>
    
    <section id="drone-delivery" style="display: none; visibility: hidden; height: 0; overflow: hidden;">
        <h2>Drone Delivery Map</h2>
        <p>Your delivery is in progress. Watch the drone's journey.</p>
        <div id="drone-map" style="width: 100%; height: 500px;"></div>
    </section>
    
    <!-- Load the delivery map script separately -->
    <script defer src="drone_delivery.js"></script>
    
    

    <footer>
        <p>&copy; 2025 Best Buy Clone. All rights reserved.</p>
    </footer>

    <script>
        function reloadMap() {
            document.getElementById('map-frame').src = "drone_delivery_simulation.html?" + new Date().getTime();
        }
    </script>
</body>
</html>
